/* Custom styles for Thyroid Report Generator */

.thyroid-diagram {
    position: relative;
    width: 300px; /* Maintain overall container size for JS compatibility */
    height: 200px;
    background-color: #e0f7fa; /* Light blue background */
    border-radius: 45% 45% 30px 30px / 50% 50% 20px 20px; /* Curved top, slight curve bottom */
    margin-left: auto; /* Keep centered via parent class */
    margin-right: auto; /* Keep centered via parent class */
    overflow: hidden; /* Important to clip parts extending below */
}

/* We don't need the ::before pseudo-element anymore */
.thyroid-diagram::before {
    display: none;
}

.isthmus {
    position: absolute;
    width: 80px; /* Wider isthmus */
    height: 50px; /* Taller, extends upwards */
    background-color: #b2ebf2; /* Same color as lobes */
    bottom: 0px; /* Position at the bottom */
    left: 50%; /* Center horizontally */
    transform: translateX(-50%); /* Precise centering */
    border-radius: 25px 25px 0 0 / 20px 20px 0 0; /* Rounded top edge */
    z-index: 1; /* Position behind lobes */
}

.thyroid-lobe {
    position: absolute;
    width: 135px; /* Wider lobes */
    height: 185px; /* Taller lobes, extending below bottom visually */
    background-color: #b2ebf2; /* Slightly darker cyan */
    /* Complex radius: top-left, top-right, bottom-right, bottom-left */
    /* Format: horizontal radii / vertical radii */
    border-radius: 50% 50% 45% 45% / 60% 60% 40% 40%; /* Creates a more organic lobe shape */
    bottom: -5px; /* Position slightly overlapping bottom, will be clipped by parent */
    z-index: 2; /* Position lobes above isthmus */
}

.left-lobe {
    left: 15px; /* Adjusted position */
    /* Optional: slight rotation for asymmetry */
    /* transform: rotate(-3deg); */
}

.right-lobe {
    right: 15px; /* Adjusted position */
    /* Optional: slight rotation for asymmetry */
    /* transform: rotate(3deg); */
}
.nodule-marker {
    position: absolute;
    width: 12px;
    height: 12px;
    background-color: #ff5722; /* Default color, will be overridden by JS */
    border-radius: 50%;
    transform: translate(-6px, -6px);
    cursor: pointer;
    border: 1px solid rgba(0,0,0,0.2); /* Slight border for visibility */
    /* For displaying number inside */
    color: white;
    font-size: 8px;
    text-align: center;
    line-height: 12px;
    z-index: 10; /* Ensure markers are above lobes/isthmus */
}
.nodule-marker.selected {
    border: 2px solid #000; /* Use Tailwind border-black */
    box-shadow: 0 0 0 2px white; /* Use Tailwind ring-2 ring-white */
}
/* TI-RADS specific colors for markers - applied by JS */
.nodule-marker.tr1 { background-color: #4CAF50; } /* Tailwind bg-tr1 */
.nodule-marker.tr2 { background-color: #8BC34A; } /* Tailwind bg-tr2 */
.nodule-marker.tr3 { background-color: #FFC107; } /* Tailwind bg-tr3 */
.nodule-marker.tr4 { background-color: #FF9800; } /* Tailwind bg-tr4 */
.nodule-marker.tr5 { background-color: #F44336; } /* Tailwind bg-tr5 */

.tirads-indicator {
    width: 100%;
    height: 20px;
    /* Gradient using Tailwind configured colors */
    background: linear-gradient(to right, var(--tw-color-tr1, #4CAF50), var(--tw-color-tr2, #8BC34A), var(--tw-color-tr3, #FFC107), var(--tw-color-tr4, #FF9800), var(--tw-color-tr5, #F44336));
    position: relative;
    border-radius: 4px; /* Optional: rounded corners */
}
.tirads-pointer {
    position: absolute;
    top: -5px;
    width: 0;
    height: 0;
    border-left: 10px solid transparent;
    border-right: 10px solid transparent;
    border-top: 10px solid #333; /* Tailwind text-gray-700 or black */
    transform: translateX(-10px);
    transition: left 0.3s ease; /* Smooth transition */
}
/* Dark mode specific pointer color */
.dark .tirads-pointer {
    border-top-color: #ccc; /* Lighter color for dark mode */
}

/* Print styles */
@media print {
    .no-print {
        display: none !important;
    }
    body {
        background-color: white !important;
        color: black !important;
        /* Reset Tailwind dark mode overrides for printing */
        --tw-bg-opacity: 1 !important;
        --tw-text-opacity: 1 !important;
    }
    /* Ensure dark mode styles are reverted for print */
    .dark body, .dark div, .dark input, .dark select, .dark textarea, .dark button, .dark span, .dark p, .dark h1, .dark h2, .dark h3, .dark h4 {
        background-color: white !important;
        color: black !important;
        border-color: #e5e7eb !important; /* Tailwind gray-200 */
    }
    .dark .bg-gray-800, .dark .bg-gray-700, .dark .bg-gray-900 {
        background-color: white !important;
    }
    .dark .text-gray-100 {
        color: black !important;
    }
    .dark .border-gray-600 {
         border-color: #e5e7eb !important; /* Tailwind gray-200 */
    }
    .dark .bg-gray-100 {
         background-color: #f9fafb !important; /* Tailwind gray-50 */
    }
    /* Adjust preview for printing */
     #reportPreview {
        height: auto;
        overflow: visible;
        border: none;
        padding: 0;
        background-color: white !important;
     }
}

/* Custom scrollbar (Optional but nice) */
::-webkit-scrollbar {
    width: 8px;
}
::-webkit-scrollbar-track {
    background: #f1f1f1; /* Tailwind bg-gray-100 */
}
::-webkit-scrollbar-thumb {
    background: #888; /* Tailwind bg-gray-500 */
    border-radius: 4px;
}
/* Custom scrollbar for dark mode */
.dark ::-webkit-scrollbar-track {
    background: #374151; /* Tailwind bg-gray-700 */
}
.dark ::-webkit-scrollbar-thumb {
    background: #6b7280; /* Tailwind bg-gray-500 */
}
